<template>
  <div class="index-left-body">
    <div>
      <el-card :body-style="{ padding: '20px' }" shadow="hover"
               style="width: 30%;margin-left: 5px;margin-right: 5px">
        <svg t="1652538969553" class="icon" viewBox="0 0 1089 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1668" width="100" height="100"><path d="M926.297385 108.256175H161.293015A53.180374 53.180374 0 0 1 109.093024 54.117203c0-27.8429 17.102251-54.117186 61.263094-54.117186h748.947862c41.285051 0 61.480957 26.274286 61.480958 54.117186a57.080123 57.080123 0 0 1-54.487553 54.138972zM980.545288 162.37336l109.018678 240.869406c0 74.182374-60.870941 138.125184-136.14263 138.125184-75.249903 0-136.207989-63.94281-136.207988-138.125184a138.800559 138.800559 0 0 1-39.9343 96.861919 134.290794 134.290794 0 0 1-96.273689 41.263265c-75.271689 0-136.207989-63.94281-136.207989-138.125184a138.97485 138.97485 0 0 1-39.868941 96.861919 134.225435 134.225435 0 0 1-96.20833 41.263265c-75.184544 0-136.207989-63.94281-136.207989-138.125184a139.040209 139.040209 0 0 1-39.847155 96.861919 134.31258 134.31258 0 0 1-96.360834 41.263265C61.119577 541.36795 0.161491 477.42514 0.161491 403.242766L109.093024 162.37336h871.452264zM163.580577 568.470115c30.086889 0 54.465766 24.226373 54.465767 54.117186v245.27024h415.595584c0.108932 0.326795 0.283222 0.58823 0.392154 0.893238a224.006804 224.006804 0 0 1-6.949832-24.466022c-27.123952-122.874769 51.154248-244.355215 174.813324-271.304876l6.034807-1.198247h2.113272l5.555508-0.915025 10.065274-1.394324 12.396408-1.00217h12.592485a254.093694 254.093694 0 0 1 37.995319 3.202587c9.215608 1.394324 18.300498 3.485809 27.211097 6.209098l8.758095 2.810433 11.394238 4.291903h1.111102l6.339815 2.810433 2.723289 1.198247h1.00217l0.41394-0.087145a228.124416 228.124416 0 0 1 127.319175 157.776432c27.123952 122.896556-51.132462 244.377001-174.813324 271.326663a229.845535 229.845535 0 0 1-191.153054-43.746904l0.23965 0.217863H163.580577A57.080123 57.080123 0 0 1 109.093024 920.340753V622.587301a54.313262 54.313262 0 0 1 54.487553-54.117186z m680.386355 372.371553a12.810348 12.810348 0 0 0 14.073954 0c26.775371-17.494404 122.613334-84.007998 122.613334-163.135864 0-71.415513-57.777285-128.844217-129.650311-128.844217-71.873025 0-129.650311 57.428704-129.65031 128.844217 0 79.127866 95.837963 146.338621 122.613333 163.135864z m7.036977-227.557973a64.443895 64.443895 0 0 1 64.814262 64.422109 64.443895 64.443895 0 0 1-64.814262 64.422109 64.443895 64.443895 0 0 1-64.814262-64.422109 64.443895 64.443895 0 0 1 64.814262-64.422109z" fill="#d81e06" p-id="1669"></path></svg>
        <div style="padding: 14px">
          <h4>收银台</h4>
          <div class="bottom">
            <span>今日单数：{{ todayPriceNum }}单</span>
            <el-button type="text" class="button" @click="indexto(1)">前往收银台</el-button>
          </div>
        </div>
      </el-card>
      <el-card :body-style="{ padding: '20px' }" shadow="hover"
               style="width: 30%;margin-left: 5px;margin-right: 5px">
        <svg t="1652538052895" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="990" width="100" height="100"><path d="M720.501772 587.824619a56.856177 56.856177 0 1 1 113.735105 0v0.045503a56.856177 56.856177 0 1 1-113.735105-0.045503z m303.323949 354.560487c0 44.820596-35.628961 81.541632-79.084462 81.541632H79.157728c-43.455501 0-79.084462-36.721036-79.084462-81.541632v-611.107206c0-44.820596 35.628961-81.51888 79.084462-81.473377h865.583531c43.455501 0 79.084462 36.698285 79.084462 81.51888v168.520889H736.496127c-43.455501 0-79.107213 36.721036-79.107214 81.541632v52.101098c0 44.820596 35.651712 81.51888 79.107214 81.51888h287.329594v227.379204zM687.193472 10.139471c38.08613-21.659496 86.387716-7.280503 107.43292 31.988709l83.452763 155.871015H357.386694L687.193472 10.139471z" fill="#d81e06" p-id="991"></path></svg>
        <div style="padding: 14px">
          <h4>财务中心</h4>
          <div class="bottom">
            <span>今日收银：{{ todayPrice }}元</span>
            <el-button type="text" class="button" @click="indexto(2)">前往财务中心</el-button>
          </div>
        </div>
      </el-card>
      <el-card :body-style="{ padding: '20px' }" shadow="hover"
               style="width: 30%;margin-left: 5px;margin-right: 5px">
        <svg t="1652538999801" class="icon" viewBox="0 0 1160 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1924" width="100" height="100"><path d="M864.27322 1014.072894c-151.208762 0-273.809254-120.659058-273.809254-269.457762 0-148.798705 122.600492-269.480078 273.809254-269.480078 151.231077 0 273.809254 120.681373 273.809255 269.480078s-122.578177 269.457762-273.809255 269.457762z m128.781843-290.902807c0-72.703386-58.622405-131.86136-130.678647-131.861359s-130.656331 59.157973-130.656331 131.861359c0 72.725702 58.60009 131.883675 130.656331 131.883675a128.98268 128.98268 0 0 0 72.011611-21.935981l67.74938 68.374209 26.175897-26.421365-66.209621-66.856767a132.017567 132.017567 0 0 0 30.95138-85.043771z m-122.689754 67.927903a66.968343 66.968343 0 0 1-66.834451-66.946028c0-36.909577 29.991821-66.946028 66.834451-66.946027a66.946028 66.946028 0 0 1 0 133.892055z m-359.589431-39.074165c0 103.944866 46.036552 197.31226 119.030037 261.513501H102.472053c-66.856767 0-93.255817-95.219567-74.555559-138.979954 65.718684-153.641134 202.467104-271.488459 368.627145-312.25859-101.62407-45.523299-172.408337-146.076233-172.408338-263.164835 0-159.755538 131.615891-289.251471 293.960009-289.251472 162.366433 0 293.937693 129.495933 293.937693 289.251472 0 39.163426-7.944262 76.452364-22.293027 110.527892-159.577015 34.789619-278.964098 174.818394-278.964098 342.361986z" fill="#d81e06" p-id="1925"></path></svg>
        <div style="padding: 14px">
          <h4>会员中心</h4>
          <div class="bottom">
            <span>会员数量：{{ indexVips }}人</span>
            <el-button type="text" class="button" @click="indexto(3)">前往会员中心</el-button>
          </div>
        </div>
      </el-card>
    </div>
    <div style="margin-top: 10px">
      <el-card :body-style="{ padding: '20px' }" shadow="hover"
               style="width: 30%;margin-left: 5px;margin-right: 5px">
        <svg t="1652539030780" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2186" width="100" height="100"><path d="M1010.404411 455.193596L570.955484 950.742822l-181.931979 73.067518 50.635585-189.422935 439.469394-495.610627c18.727389-21.04017 52.927899-23.373419 74.275076-4.461826l52.518558 46.603568c10.458684 9.251125 16.803482 22.288663 17.601699 36.226753 0.880085 13.917622-3.847813 27.630574-13.119406 38.048323zM375.842698 777.795897l-13.365011 15.084246-5.178174 19.464204-50.696987 189.422935-5.914989 22.043058H128.109019a127.919324 127.919324 0 0 1-127.919323-127.919324V128.252272a127.919324 127.919324 0 0 1 127.919323-127.93979h597.025067a127.939791 127.939791 0 0 1 127.939791 127.93979v125.053931c-13.979024 7.490956-26.95516 16.783015-37.679916 28.776731l-439.551263 495.712963zM204.922014 542.772282a20.467092 20.467092 0 0 0 20.467092 20.467092h163.736734a20.467092 20.467092 0 0 0 20.467092-20.467092v-40.934184a20.467092 20.467092 0 0 0-20.467092-20.467091h-163.736734a20.467092 20.467092 0 0 0-20.467092 20.467091v40.934184zM614.26385 245.999451a20.467092 20.467092 0 0 0-20.467092-20.467092H225.389106a20.467092 20.467092 0 0 0-20.467092 20.467092v40.934184a20.467092 20.467092 0 0 0 20.467092 20.467092h368.407652a20.467092 20.467092 0 0 0 20.467092-20.467092v-40.934184z m20.528493 761.33488l218.281534-246.157713v134.714398a127.919324 127.919324 0 0 1-127.939791 127.919324h-107.247561l3.540807-1.432697 13.365011-15.043312z" fill="#d81e06" p-id="2187"></path></svg>
        <div style="padding: 14px">
          <h4>挂单中心</h4>
          <div class="bottom">
            <span>今日挂单：{{ todayPendingNum }}单</span>
            <el-button type="text" class="button" @click="indexto(4)">前往挂单详情</el-button>
          </div>
        </div>
      </el-card>
      <el-card :body-style="{ padding: '20px' }" shadow="hover"
               style="width: 30%;margin-left: 5px;margin-right: 5px">
        <svg t="1652539178543" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2442" width="100" height="100"><path d="M511.97952-0.02048C229.66272-0.02048 0 229.66272 0 511.97952c0 282.33728 229.66272 512 511.97952 512 282.35776 0 512-229.66272 512-512 0-282.3168-229.64224-512-512-512z m147.16928 585.15456a36.53632 36.53632 0 1 1 0 73.13408h-110.592v108.72832c0 20.23424-16.34304 36.57728-36.57728 36.57728a36.53632 36.53632 0 0 1-36.5568-36.57728v-108.72832h-108.68736a36.53632 36.53632 0 0 1-36.57728-36.57728c0-20.21376 16.34304-36.5568 36.57728-36.5568h108.68736v-73.15456h-108.68736a36.53632 36.53632 0 0 1-36.57728-36.5568c0-20.23424 16.34304-36.57728 36.57728-36.57728h108.68736v-22.60992l-135.35232-135.55712c-14.336-14.27456-13.78304-37.41696 0.47104-51.712a36.49536 36.49536 0 0 1 51.67104-0.08192l122.96192 122.69568 116.16256-122.04032a36.49536 36.49536 0 0 1 51.58912-1.26976c14.62272 13.9264 14.90944 37.10976 1.00352 51.712l-135.3728 141.55776v17.3056h110.592a36.5568 36.5568 0 1 1 0 73.13408h-110.592v73.15456h110.592z" fill="#d81e06" p-id="2443"></path></svg>
        <div style="padding: 14px">
          <h4>充值中心</h4>
          <div class="bottom">
            <span>今日充值：{{ todayRecharge }}元</span>
            <el-button type="text" class="button" @click="indexto(5)">前往充值中心</el-button>
          </div>
        </div>
      </el-card>
      <el-card :body-style="{ padding: '20px' }" shadow="hover"
               style="width: 30%;margin-left: 5px;margin-right: 5px">
        <svg t="1652539259886" class="icon" viewBox="0 0 1044 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2704" width="100" height="100"><path d="M767.519347 1023.979102c-101.919347 0-277.336816-24.283429-277.336816-82.714122v-14.900245c0-120.434939 77.197061-222.897633 184.884245-260.848327a12.747755 12.747755 0 0 1 15.673469 6.24849l63.926857 160.66351c4.681143 11.640163 21.148735 11.640163 25.746286 0l63.926857-160.66351a12.747755 12.747755 0 0 1 15.673469-6.24849c107.687184 37.950694 184.905143 140.350694 184.905143 260.848327v14.900245c0 58.430694-175.501061 82.714122-277.39951 82.714122z m0.062694-397.20751c-91.700245 0-166.034286-74.145959-166.034286-165.616327s74.334041-165.616327 166.034286-165.616326c91.679347 0 166.013388 74.145959 166.013388 165.616326s-74.334041 165.616327-166.013388 165.616327z m-237.818776-165.616327c0 62.902857 24.764082 120.184163 64.971755 162.669715-107.457306 61.189224-176.295184 176.169796-176.295183 302.602449v14.837551c0 25.997061 8.860735 48.734041 26.122449 68.29453H41.649633c-22.987755 0-41.670531-18.64098-41.670531-41.566041V41.566041C-0.020898 18.64098 18.661878 0 41.649633 0h716.214857a43.049796 43.049796 0 0 1 43.091592 42.987102v183.316898a240.117551 240.117551 0 0 0-33.374041-2.382367c-131.17649 0-237.818776 106.454204-237.818776 237.233632zM154.268735 612.414694h181.456979a45.285878 45.285878 0 0 0 45.306776-45.118694c0-24.931265-20.250122-45.139592-45.244082-45.139592H154.226939a45.181388 45.181388 0 0 0-45.223184 45.16049 45.139592 45.139592 0 0 0 45.26498 45.097796z m0-190.861061h181.456979a45.285878 45.285878 0 0 0 45.306776-45.139592 45.16049 45.16049 0 0 0-45.244082-45.118694H154.226939a45.16049 45.16049 0 0 0-45.223184 45.139592c0 24.931265 20.27102 45.118694 45.26498 45.118694zM436.286694 139.786449H154.268735a45.16049 45.16049 0 0 0-45.244082 45.139592c0 24.931265 20.250122 45.118694 45.244082 45.118694h282.059755a45.139592 45.139592 0 0 0 45.223183-45.139592 45.202286 45.202286 0 0 0-45.264979-45.118694z" fill="#d81e06" p-id="2705"></path></svg>
        <div style="padding: 14px">
          <h4>营销中心</h4>
          <div class="bottom">
            <span>散客数量：{{ indexGuest }}人</span>
            <el-button type="text" class="button" @click="indexto(6)">前往散客统计</el-button>
          </div>
        </div>
      </el-card>
    </div>
  </div>
</template>

<script>
import {onBeforeMount, reactive, toRefs} from "vue";
import router from "../../router";
import {moneyOrder, numberOrder} from "../../api/order";
import {getVipsIndex} from "../../api/vips";
import {getOpenBill} from "../../api/bill";
import {useStore} from "vuex";

export default {
  name: "Quite",
  setup() {
    const store =useStore();
    const data=reactive({
      todayPriceNum: 0,
      todayPrice: 0,
      indexVips: 0,
      indexGoods: 0,
      todayPendingNum: 2,
      todayRecharge: 0,
      indexGuest: 2,
    })
    const indexto = (index) => {
      if (index == 1) {
        router.push("/home");
        store.dispatch('trees/upMenuIndexAtions',1)
      } else if (index == 2) {
        router.push("/index");
        store.dispatch('trees/upMenuIndexAtions',2)
      } else if (index == 3) {
        router.push("/vips/vipslist");
        store.dispatch('trees/upMenuIndexAtions',2)
      } else if (index == 4) {
        router.push("/home/pending");
        store.dispatch('trees/upMenuIndexAtions',1)
      } else if (index == 5) {
        router.push("/home/card");
        store.dispatch('trees/upMenuIndexAtions',2)
      } else if (index == 6) {
        router.push("/vips/guest");
        store.dispatch('trees/upMenuIndexAtions',2)
      }

    }
    onBeforeMount(()=>{
      numberOrder({"isToday":1}).then((res)=>{
        data.todayPriceNum=res
      })
      moneyOrder({"isToday":1}).then((res)=>{
        data.todayPrice=res
      })
      getVipsIndex().then((res)=>{
        data.indexVips=res
      })
      getOpenBill({"isToday":1}).then((res)=>{
        data.todayRecharge=res
      })
    })
    return{
      ...toRefs(data),indexto
    }
  }
}
</script>

<style scoped>
.index-left-body {
  margin-top: 20px;

}

.index-left-body > div {
  display: flex;
  justify-content: center;
}
</style>